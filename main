#include <iostream>
#include <string>
#include <ctime>
using namespace std;

class Character {
public:
	Character();
	void TakeDmg(int dmg);
	void UseMana(int manaUsed);
	void Recover(int recoverHP);
	void UseSpeed(int speedUsed);
	void GetNameF();
	void DisplayStats();
protected:
	int hp, mana, recovery, speed, attackDmg, magikDmg;
	string name;
	
};
class Mage : public Character {
public:
	Mage();
	void GetNameM();
	void Spell(int magikDmg);
};
class Enemy : public Character {
public:
	Enemy();
	void BossAttack(int attackDmg);
	void BossTakeDmg(int Dmg);
protected:
	int hp, attackDmg, speed, recovery;
};
Character::Character() {
	hp = 100;
	mana = 50;
	recovery = 0;
	speed = 10;
	attackDmg = 5;
	magikDmg = 2;
	
}
Mage::Mage() {
	hp = 80;
	mana = 100;
	recovery = 0;
	speed = 15;
	attackDmg = 2;
	magikDmg = 5;
	
}
Enemy::Enemy() {
	hp = 250;
	attackDmg = 5;
	speed = 5;
	recovery = 0;
	name = "BossDude";
}
void Character::GetNameF() {
	cout << "Enter a name\n";
	cin >> name;
	name = name + "(Fighter)";
}
void Mage::GetNameM() {
	cout << "Enter a name\n";
	cin >> name;
	name = name + "(Mage)";
}
void Enemy::BossTakeDmg(int Dmg) {
	hp = hp - Dmg;
}
void Enemy::BossAttack(int attackDmg) {
	hp = hp - (attackDmg * 2);
}
void Mage::Spell(int magikDmg) {
	hp = hp - magikDmg;
}
void Character::TakeDmg(int dmg){
	hp = hp - dmg;
	recovery++;
}
void Character::UseMana(int manaUsed) {
	mana = mana - manaUsed;
}
void Character::Recover(int recoveredHP) {
	if (recovery > 5)
		hp = hp + (recoveredHP * 2);
	else if (recovery > 3)
		hp += recoveredHP;
	else
		hp = hp;
}
void Character::UseSpeed(int speedUsed) {
	speed = speed - speedUsed;
}
void Character::DisplayStats() {
	cout << "~~~~~~~~~~" << name << "~~~~~~~~~~\n";
	cout << "==== HP:" << Character::hp << " ";
	cout << "==== Mana:" << Character::mana << " " << endl;
	cout << "==== Speed:" << Character::speed << " " << endl;
}
int WhoFirst() {
	int num;
	srand(time(NULL));
	num = rand() % 100;
	if (num > 50)
		return 1;
	else
		return 2;
}
int main()
{
	int Turn = 0;
	int choice;
	bool Game = true;
	Character C1;
	C1.GetNameF();
	Mage M1;
	M1.GetNameM();
	Enemy E1;
	Turn = WhoFirst();
	while (Game)
	{
		C1.DisplayStats();
		M1.DisplayStats();
		E1.DisplayStats();
		if (Turn == 1)
		{
			cout << "1 = Attack\n";
			cout << "2 = Spell\n";
			cout << "What is your next move?\n";
			cin >> choice;
			if (choice == 1)
			{
				cout << "You chose to attack!\n";
				cout << "BossDude lost 15 HP!\n";
				E1.BossTakeDmg(15);
			}
			else if (choice == 2)
			{
				cout << "You chose to use a spell!\n";
				cout << "BossDude lost 8 HP!\n";
				E1.BossTakeDmg(8);
			}
			else
				cout << "You wasted your turn!\n";
		}
		else if (Turn == 2)
		{
			cout << "1 = Attack\n";
			cout << "2 = Spell\n";
			cout << "What is your next move?\n";
			cin >> choice;
			if (choice == 1)
			{
				cout << "You chose to attack!\n";
				cout << "BossDude lost 7 HP!\n";
				E1.BossTakeDmg(7);
			}
			else if (choice == 2)
			{
				cout << "You chose to use a spell!\n";
				cout << "BossDude lost 20 HP!\n";
				E1.BossTakeDmg(20);
			}
			else
				cout << "You wasted your turn!\n";
		}
		else
		{
			cout << "BOSSDUDE\n";
		}
		
	}
    return 0;
}

